{"version":3,"sources":["img/loading.gif","AppContext.tsx","helpers/Pagination.ts","services/index.ts","components/Loading.tsx","components/Modal.tsx","components/RedeemHistory.tsx","components/AddPoints.tsx","components/NavBar.tsx","components/CardContainer.tsx","components/Body.tsx","helpers/index.ts","App.tsx","index.tsx"],"names":["module","exports","AppContext","createContext","usePagination","data","itemsPerPage","useState","currentPage","setCurrentPage","maxPage","Math","ceil","length","next","min","prev","max","jump","page","pageNumber","currentData","begin","end","slice","getUser","Promise","resolve","reject","a","requestInit","headers","Authorization","fetch","res","json","jsonRes","userResolve","name","points","Error","getProduct","resProducto","jsonResProduct","productResolve","map","prod","id","_id","category","cost","img","getHistory","resHistory","jsonResHistory","historyResolve","his","productId","createDate","redeemProduct","obj","blob","Blob","JSON","stringify","type","body","method","resRedeem","jsonResRedeem","addPoints","amount","resPoints","jsonResPoints","useStyles","makeStyles","theme","createStyles","root","display","marginTop","media","height","width","Loading","classes","Grid","container","justify","className","src","loading","alt","table","minWidth","padding","ModalRedeem","setData","load","setLoad","setPage","count","_DATA","useEffect","historyService","console","log","init","TableContainer","component","Paper","Table","size","aria-label","TableHead","TableRow","TableCell","align","TableBody","row","i","key","scope","onChange","e","p","color","button","modal","position","backgroundColor","border","boxShadow","shadows","top","left","transform","RedeemHistory","React","open","setOpen","Tooltip","title","IconButton","onClick","onClose","aria-labelledby","aria-describedby","Modal","btn","AddPoints","loadingPoints","setLoadingPoints","setUser","useContext","anchorEl","setAnchorEl","handleClose","newPoints","CircularProgress","aria-controls","aria-haspopup","event","currentTarget","Menu","keepMounted","Boolean","MenuItem","flexGrow","link","NavBar","user","AppBar","Toolbar","Typography","variant","href","target","rel","toUpperCase","Intl","NumberFormat","format","maxWidth","paddingTop","redeemButton","marginLeft","CardContainer","props","loadingRedeem","setLoadingRedeem","resUser","swal","product","Card","CardMedia","image","hdUrl","CardContent","Button","redeem","endIcon","footer","bottom","Body","dataCopy","productService","value","setValue","square","Tabs","indicatorColor","textColor","newValue","Tab","label","disabled","sortMostRecently","sort","b","sortLowerPrice","sortHigherPrice","spacing","item","lg","md","sm","xs","App","userService","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8c051930.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.ee9c1c4b.gif\";","import {createContext} from 'react'\r\nimport { IAppContext } from './services/interfaces';\r\n\r\n\r\n\r\nconst AppContext = createContext<IAppContext>(null)\r\n\r\nexport default AppContext\r\n\r\n","import  { useState } from \"react\";\r\n\r\nfunction usePagination(data: any[], itemsPerPage: number) {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const maxPage = Math.ceil(data.length / itemsPerPage);\r\n\r\n  function currentData() {\r\n    const begin = (currentPage - 1) * itemsPerPage;\r\n    const end = begin + itemsPerPage;\r\n    return data.slice(begin, end);\r\n  }\r\n\r\n  function next() {\r\n    setCurrentPage(currentPage => Math.min(currentPage + 1, maxPage));\r\n  }\r\n\r\n  function prev() {\r\n    setCurrentPage(currentPage => Math.max(currentPage - 1, 1));\r\n  }\r\n\r\n  function jump(page: number) {\r\n    const pageNumber = Math.max(1, page);\r\n    setCurrentPage(currentPage => Math.min(pageNumber, maxPage));\r\n  }\r\n\r\n  return { next, prev, jump, currentData, currentPage, maxPage };\r\n}\r\n\r\nexport default usePagination;","import { IUser } from \"./interfaces\";\r\nimport { IProducts } from \"./interfaces\";\r\nimport { IHistory } from \"./interfaces\";\r\n\r\nexport function getUser(): Promise<IUser> {\r\n  return new Promise(async (resolve, reject) => {\r\n    const endpoint = \"https://coding-challenge-api.aerolab.co/user/me\";\r\n\r\n    const requestInit: RequestInit = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization:\r\n          \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmE4ODkwOGI5NTIzZTAwMjA3ZTFmYzAiLCJpYXQiOjE2MDQ4ODA2NDh9.Wtn96Dvpl8LhRWE9EsUW8gHYJvSMIRkCLuWsSpZLQ0c\",\r\n        },\r\n    };\r\n    try {\r\n      const res = await fetch(endpoint, requestInit);\r\n      const jsonRes = await res.json();\r\n\r\n      const userResolve: IUser = {\r\n        name: jsonRes.name,\r\n        points: jsonRes.points,\r\n      };\r\n      resolve(userResolve);\r\n    } catch (error) {\r\n      reject(new Error(error));\r\n    }\r\n  });\r\n}\r\n\r\nexport function getProduct(): Promise<IProducts[]> {\r\n  return new Promise(async (resolve, reject) => {\r\n    const endpoint = \"https://coding-challenge-api.aerolab.co/products\";\r\n    const requestInit: RequestInit = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization:\r\n          \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmE4ODkwOGI5NTIzZTAwMjA3ZTFmYzAiLCJpYXQiOjE2MDQ4ODA2NDh9.Wtn96Dvpl8LhRWE9EsUW8gHYJvSMIRkCLuWsSpZLQ0c\",\r\n      },\r\n    };\r\n    try {\r\n      const resProducto = await fetch(endpoint, requestInit);\r\n      const jsonResProduct = await resProducto.json();\r\n\r\n      const productResolve: IProducts[] = jsonResProduct.map(\r\n        (prod: { _id: any; category: any; cost: any; img: any; name: any }) => {\r\n          return {\r\n            id: prod._id,\r\n            category: prod.category,\r\n            cost: prod.cost,\r\n            img: prod.img,\r\n            name: prod.name,\r\n          };\r\n        }\r\n      );\r\n      resolve(productResolve);\r\n    } catch (error) {\r\n      reject(new Error(error));\r\n    }\r\n  });\r\n}\r\n\r\nexport function getHistory():Promise<IHistory[]> {\r\n  const endpoint = \"https://coding-challenge-api.aerolab.co/user/history\";\r\n  const requestInit: RequestInit = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization:\r\n        \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmE4ODkwOGI5NTIzZTAwMjA3ZTFmYzAiLCJpYXQiOjE2MDQ4ODA2NDh9.Wtn96Dvpl8LhRWE9EsUW8gHYJvSMIRkCLuWsSpZLQ0c\",\r\n    },\r\n  };\r\n\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const resHistory = await fetch(endpoint, requestInit);\r\n      const jsonResHistory = await resHistory.json();\r\n\r\n      const historyResolve: IHistory[] = jsonResHistory.map(\r\n        (his: {\r\n          productId: any;\r\n          name: any;\r\n          cost: any;\r\n          category: any;\r\n          _id: any;\r\n          createDate: any;\r\n        }) => {\r\n          return {\r\n            productId: his.productId,\r\n            name: his.name,\r\n            cost: his.cost,\r\n            category: his.category,\r\n            _id: his._id,\r\n            createDate: his.createDate,\r\n          };\r\n        }\r\n      );\r\n\r\n      resolve(historyResolve);\r\n\r\n    } catch (error) {\r\n      reject(new Error(error));\r\n    }\r\n  });\r\n}\r\n\r\nexport function redeemProduct(id: string) {\r\n  const obj = { productId: id };\r\n  const blob = new Blob([JSON.stringify(obj, null, 2)], {\r\n    type: \"application/json\",\r\n  });\r\n\r\n  const endpoint = \"https://coding-challenge-api.aerolab.co/redeem\";\r\n\r\n  const requestInit: RequestInit = {\r\n    body: blob,\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization:\r\n        \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmE4ODkwOGI5NTIzZTAwMjA3ZTFmYzAiLCJpYXQiOjE2MDQ4ODA2NDh9.Wtn96Dvpl8LhRWE9EsUW8gHYJvSMIRkCLuWsSpZLQ0c\",\r\n    },\r\n  };\r\n\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const resRedeem = await fetch(endpoint, requestInit);\r\n      const jsonResRedeem = resRedeem.json();\r\n\r\n      resolve(jsonResRedeem);\r\n    } catch (error) {\r\n      reject(new Error(error));\r\n    }\r\n  });\r\n}\r\n\r\nexport function addPoints(points: number) {\r\n  const obj = { amount: points };\r\n  const blob = new Blob([JSON.stringify(obj, null, 2)], {\r\n    type: \"application/json\",\r\n  });\r\n\r\n  const endpoint = \"https://coding-challenge-api.aerolab.co/user/points\";\r\n\r\n  const requestInit: RequestInit = {\r\n    body: blob,\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization:\r\n        \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmE4ODkwOGI5NTIzZTAwMjA3ZTFmYzAiLCJpYXQiOjE2MDQ4ODA2NDh9.Wtn96Dvpl8LhRWE9EsUW8gHYJvSMIRkCLuWsSpZLQ0c\",\r\n    },\r\n  };\r\n\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const resPoints = await fetch(endpoint, requestInit);\r\n      const jsonResPoints = resPoints.json();\r\n\r\n      resolve(jsonResPoints);\r\n    } catch (error) {\r\n      reject(new Error(error));\r\n    }\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport loading from \"../img/loading.gif\"\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      marginTop: 40\r\n    },\r\n    media: {\r\n      height:200,\r\n      width: 200\r\n    },\r\n  })\r\n);\r\n\r\nconst Loading = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container justify=\"center\" className={classes.root}>\r\n      <img src={loading} className={classes.media} alt=\"imageLoading\"></img>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport usePagination from \"../helpers/Pagination\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { IHistory } from \"../services/interfaces\";\r\nimport { getHistory } from \"../services\";\r\n\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\nimport Loading from \"./Loading\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n    padding: 25,\r\n  },\r\n});\r\n\r\nconst ModalRedeem = () => {\r\n  const classes = useStyles();\r\n\r\n  const [data, setData] = useState<IHistory[]>([]);\r\n  const [load,setLoad] = useState(true)\r\n  const [page, setPage] = useState(1);\r\n\r\n  const PER_PAGE = 10;\r\n\r\n  const count = Math.ceil(data.length / PER_PAGE);\r\n  const _DATA = usePagination(data, PER_PAGE);\r\n\r\n  const handleChangePage = (e: any, p: any) => {\r\n    setPage(p);\r\n    _DATA.jump(p);\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function init() {\r\n      try {\r\n        const historyService = await getHistory();\r\n        setData(historyService);\r\n        setLoad(false)\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    init();\r\n  }, []);\r\n\r\n  if (load) {\r\n    return <Loading />;\r\n  }\r\n  return (\r\n    <>\r\n      <Grid container justify=\"center\">\r\n        <TableContainer component={Paper}>\r\n          <Table\r\n            className={classes.table}\r\n            size=\"small\"\r\n            aria-label=\"a dense table\"\r\n          >\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Date</TableCell>\r\n                <TableCell align=\"right\">PRODUCT</TableCell>\r\n                <TableCell align=\"right\">CATEGORY</TableCell>\r\n                <TableCell align=\"right\">COST&nbsp;(Points)</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {_DATA.currentData().map((row, i) => (\r\n                <TableRow key={i}>\r\n                  <TableCell component=\"th\" scope=\"row\">\r\n                    {row.createDate}\r\n                  </TableCell>\r\n                  <TableCell align=\"right\">{row.name}</TableCell>\r\n                  <TableCell align=\"right\">{row.category}</TableCell>\r\n                  <TableCell align=\"right\">{row.cost}</TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n          <Grid container justify=\"center\">\r\n            <Pagination\r\n              size=\"large\"\r\n              count={count}\r\n              page={page}\r\n              onChange={handleChangePage}\r\n              color=\"secondary\"\r\n            />\r\n          </Grid>\r\n        </TableContainer>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModalRedeem;\r\n","import React from \"react\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HistoryIcon from \"@material-ui/icons/History\";\r\nimport ModalRedeem from \"./Modal\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nimport Modal from \"@material-ui/core/Modal\";\r\n\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    button: {\r\n      color: \"#ffffff\",\r\n    },\r\n    modal: {\r\n      position: \"absolute\",\r\n      width: 800,\r\n      backgroundColor: \" white\",\r\n      border: \"2px solid #000\",\r\n      boxShadow: theme.shadows[5],\r\n      padding: \"16px 32px 24px\",\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      transform: \"translate(-50%,-50%)\",\r\n    },\r\n  })\r\n);\r\n\r\nconst RedeemHistory = () => {\r\n  const classes = useStyles();\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Redeem History\">\r\n        <IconButton\r\n          color=\"secondary\"\r\n          component=\"span\"\r\n          className={classes.button}\r\n          onClick={handleOpen}\r\n        >\r\n          <HistoryIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        <div className={classes.modal}>\r\n          <ModalRedeem />\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RedeemHistory;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport { addPoints, getUser } from \"../services/index\";\r\nimport AppContext from \"../AppContext\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    btn: {\r\n      color: \"#ffffff\",\r\n    },\r\n  })\r\n);\r\n\r\nconst AddPoints = () => {\r\n  const [loadingPoints, setLoadingPoints] = useState(false);\r\n\r\n  const { setUser } = useContext(AppContext);\r\n\r\n  const classes = useStyles();\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n\r\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  async function handleClose(points: number) {\r\n    setLoadingPoints(true);\r\n    try {\r\n      setAnchorEl(null);\r\n      await addPoints(points);\r\n      const newPoints = await getUser();\r\n      setUser(newPoints);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setAnchorEl(null);\r\n    }\r\n    setLoadingPoints(false);\r\n  }\r\n\r\n  if (loadingPoints) {\r\n    return (\r\n      <>\r\n        <CircularProgress className={classes.btn} size={20} />\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Add Points\">\r\n        <IconButton\r\n          aria-controls=\"simple-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={handleClick}\r\n          className={classes.btn}\r\n        >\r\n          <AddCircleIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleCloseModal}\r\n      >\r\n        <MenuItem onClick={() => handleClose(1000)}>Add 1000</MenuItem>\r\n        <MenuItem onClick={() => handleClose(5000)}>Add 5000</MenuItem>\r\n        <MenuItem onClick={() => handleClose(7500)}>Add 7500</MenuItem>\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddPoints;\r\n","import React, { useContext } from \"react\";\r\nimport RedeemHistory from \"./RedeemHistory\";\r\nimport AppContext from \"../AppContext\";\r\nimport AddPoints from \"./AddPoints\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    link: {\r\n      color: \"#ffffff\",\r\n    },\r\n  })\r\n);\r\n\r\nconst NavBar = () => {\r\n  const { user } = useContext(AppContext);\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" color=\"secondary\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            <Tooltip title=\"My Github\">\r\n              <a\r\n                href=\"https://github.com/saechavarria/reward-store\"\r\n                className={classes.link}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                <GitHubIcon />\r\n              </a>\r\n            </Tooltip>\r\n          </Typography>\r\n          {user && <RedeemHistory />}\r\n          <Typography variant=\"h6\">\r\n            {user\r\n              ? user.name.toUpperCase() +\r\n                \", POINTS: \" +\r\n                new Intl.NumberFormat().format(user.points)\r\n              : \"LOADING...\"}\r\n          </Typography>\r\n          {user && <AddPoints />}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import AppContext from \"../AppContext\";\r\nimport Loading from \"./Loading\";\r\n\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LoyaltyIcon from \"@material-ui/icons/Loyalty\";\r\nimport { Button, Tooltip } from \"@material-ui/core\";\r\n\r\nimport { redeemProduct } from \"../services/index\";\r\nimport { getUser } from \"../services/index\";\r\nimport { ICardContainerProps } from \"../services/interfaces\";\r\n\r\nimport swal from \"sweetalert\";\r\n\r\nimport React, { useContext, useState } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: 245,\r\n    },\r\n    media: {\r\n      height: 0,\r\n      paddingTop: \"56.25%\", // 16:9\r\n    },\r\n    redeemButton: {\r\n      marginTop: 12,\r\n      width: 100,\r\n      marginLeft: 60,\r\n    },\r\n    btn: {\r\n      marginTop: 12,\r\n    },\r\n  })\r\n);\r\n\r\nconst CardContainer = (props: ICardContainerProps) => {\r\n  const classes = useStyles();\r\n\r\n  const { user } = useContext(AppContext);\r\n  const { setUser } = useContext(AppContext);\r\n  const [loadingRedeem, setLoadingRedeem] = useState(false);\r\n\r\n  async function redeem(id: string) {\r\n    setLoadingRedeem(true);\r\n    try {\r\n      await redeemProduct(id);\r\n      const resUser = await getUser();\r\n      setUser(resUser);\r\n      swal(\r\n        \"Good job!\",\r\n        `You've redeemed the product ${props.product.name} successfully`,\r\n        \"success\"\r\n      );\r\n      setLoadingRedeem(false);\r\n    } catch (error) {\r\n      swal(\r\n        \"Good job!\",\r\n        `You've not redeemed the product ${props.product.name} successfully`,\r\n        \"error\"\r\n      );\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  if (loadingRedeem) {\r\n    return <Loading />;\r\n  }\r\n  return (\r\n    <>\r\n      <Card className={classes.root}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={props.product.img.hdUrl}\r\n          title=\"imagen\"\r\n        />\r\n        <CardContent>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {props.product.category}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textPrimary\" component=\"p\">\r\n            {props.product.name}\r\n          </Typography>\r\n          <div className={classes.redeemButton}>\r\n            {user.points < props.product.cost ? (\r\n              <Typography variant=\"body2\" color=\"textPrimary\" component=\"p\">\r\n                You need {props.product.cost - user.points} points\r\n              </Typography>\r\n            ) : (\r\n              <>\r\n                {!loadingRedeem && (\r\n                  <Tooltip title=\"Redeem\">\r\n                    <Button\r\n                      onClick={() => redeem(props.product.id)}\r\n                      className={classes.btn}\r\n                      variant=\"contained\"\r\n                      color=\"secondary\"\r\n                      endIcon={<LoyaltyIcon />}\r\n                    >\r\n                      {props.product.cost}\r\n                    </Button>\r\n                  </Tooltip>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CardContainer;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport CardContainer from \"./CardContainer\";\r\nimport { IProducts } from \"../services/interfaces\";\r\nimport AppContext from \"../AppContext\";\r\nimport Loading from \"./Loading\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { getProduct } from \"../services\";\r\nimport usePagination from \"../helpers/Pagination\";\r\nimport { sortLowerPrice } from \"../helpers\";\r\nimport { sortHigherPrice } from \"../helpers\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    marginTop: 20,\r\n    padding: 10,\r\n    flexGrow: 1,\r\n  },\r\n  footer: {\r\n    position: \"fixed\",\r\n    left: 0,\r\n    bottom: 0,\r\n    width: \"100%\",\r\n  },\r\n});\r\n\r\nconst Body = () => {\r\n  const {user} = useContext(AppContext);\r\n\r\n  const [data, setData] = useState<IProducts[]>([]);\r\n  \r\n  const [page, setPage] = useState(1);\r\n\r\n  const PER_PAGE = 10;\r\n\r\n  const count = Math.ceil(data.length / PER_PAGE);\r\n  const _DATA = usePagination(data, PER_PAGE);\r\n\r\n  const handleChangePage = (e: any, p: any) => {\r\n    setPage(p);\r\n    _DATA.jump(p);\r\n  };\r\n\r\n  async function sortMostRecently() {\r\n    try {\r\n      const dataCopy = await getProduct();\r\n      setData(dataCopy);\r\n    } catch (error) {\r\n      console.log(\"ERROR : \" + error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function init() {\r\n      try {\r\n        const productService = await getProduct();\r\n        setData(productService);\r\n      } catch (error) {\r\n        console.log(\"ERROR : \" + error);\r\n      }\r\n    }\r\n\r\n    init();\r\n  }, []);\r\n\r\n  const classes = useStyles();\r\n\r\n  const [value, setValue] = React.useState(1);\r\n\r\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  if (!user) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Paper square>\r\n        <Tabs\r\n          value={value}\r\n          indicatorColor=\"secondary\"\r\n          textColor=\"secondary\"\r\n          onChange={handleChange}\r\n          aria-label=\"inittabs\"\r\n        >\r\n          <Tab label=\"sort by:\" disabled />\r\n          <Tab label=\"Most recently\" onClick={() => sortMostRecently()} />\r\n          <Tab label=\"Lower Price\" onClick={() => sortLowerPrice(data)} />\r\n          <Tab label=\"Highest Price\" onClick={() => sortHigherPrice(data)} />\r\n        </Tabs>\r\n      </Paper>\r\n      <Grid\r\n        container\r\n        spacing={2}\r\n        justify=\"center\"\r\n        className={classes.container}\r\n      >\r\n        {!data ? (\r\n          <h1>loading</h1>\r\n        ) : (\r\n          _DATA.currentData().map((product, i) => (\r\n            <Grid item lg={2} md={4} sm={6} xs={12} key={i}>\r\n              <CardContainer product={product} />\r\n            </Grid>\r\n          ))\r\n        )}\r\n      </Grid>\r\n      <Grid container justify=\"center\" className={classes.container}>\r\n        <Pagination\r\n          size=\"large\"\r\n          count={count}\r\n          page={page}\r\n          onChange={handleChangePage}\r\n          color=\"secondary\"\r\n        />\r\n      </Grid>\r\n      <Paper square>\r\n        <Tabs\r\n          value={0}\r\n          indicatorColor=\"secondary\"\r\n          textColor=\"secondary\"\r\n          aria-label=\"\"\r\n        >\r\n          <Tab label=\"REWARD STORE\" disabled />\r\n        </Tabs>\r\n      </Paper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Body;\r\n","export function sortLowerPrice (data: any[]) {\r\n data.sort(function(a,b){\r\n    return a.cost-b.cost;\r\n })\r\n}\r\n\r\nexport function sortHigherPrice (data: any[]) {\r\n    data.sort(function(a,b){\r\n        return b.cost-a.cost\r\n    })\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport { IUser } from \"./services/interfaces\";\nimport AppContext from \"./AppContext\";\n\nimport NavBar from \"./components/NavBar\";\n\nimport Body from \"./components/Body\";\n\nimport { getUser } from \"./services/\";\nimport \"fontsource-roboto\"\n\nconst App = () => {\n  const [user, setUser] = useState<IUser>(null);\n\n  useEffect(() => {\n    async function init() {\n      try {\n        const userService = await getUser();\n        setUser(userService);\n      } catch (error) {\n        console.log(\"ERROR : \" + error);\n      }\n    }\n    init();\n  }, []);\n\n  return (\n    <>\n      <AppContext.Provider value={{user,setUser}}>\n        <NavBar />\n          <Body />\n      </AppContext.Provider>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}